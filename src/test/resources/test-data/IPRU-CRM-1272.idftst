Feature: IPRU_CRM_1272
Owner: Marina Kirzner

Scenario: [CRM] [UI] Validation - Client data in the '��������' tab is the same as the client data in the database
  Given: Login to CRM
  And: Open page [Клиенты]
  And: Page URL is [<env-domain>/crm#/clients/]
  And: One the page [�������] available filter for client search
  And: Select '���������� ����' in the '��� �������' drop-down
  And: Click on '������' button
  And: [�������] page is available
  And: Displayed only clients with type '���������� ����'
  When: Click on the link with the id-number from client
  And: Page URL is [<env-domain>/crm#/clients/{clientId}]
  Then: Page with client data is available
  And: Tab '��������' is available
  Then: Search in the database in the Client table for data about the selected client:
		��� ������� - client_type
		��� �� ��������� - nickname
		�������� - resident
		��� - identification_number
  ``
    SELECT mrt.client.client_type, mrt.client.nickname, mrt.client.resident, mrt.client.identification_number
    FROM mrt.client
    WHERE id = {clientId}
  ``
  And: Search in the database in the Client_individual table for data about the selected client:
		������� - surname
		��� - name
		�������� - middle_name
		�������� �� ���? - full_name_changed
		���������� ������� (���� ��������) - previous_surname
		���������� ��� (���� ��������) - previous_name
		���������� �������� (���� ��������) - previous_middle_name
		����� - insurance_number
  ``
    SELECT mrt.client_individual.surname, mrt.client_individual.name, mrt.client_individual.middle_name,
           mrt.client_individual.full_name_changed, mrt.client_individual.previous_surname,
           mrt.client_individual.previous_name, mrt.client_individual.previous_middle_name,
           mrt.client_individual.insurance_number
    FROM mrt.client_individual
    WHERE id = {clientId}
  ``
  Then: Client data in the '��������' tab is the same as the client data in the database